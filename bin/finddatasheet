#!/usr/bin/perl
use strict;
use warnings;


#Takes a filename and returns the content as a large string
sub slurp($){
	my $infile = shift;
	local($/, *INFH);
	open INFH, $infile or
		die "Error opening $infile for reading\n";
	my $content = <INFH>;
	close INFH;
	return $content;
}

my $file = shift;
die 'specify a file' if not $file;

open FILE, '<', $file or die 'a terrible death';
my @files = <FILE>;

for my $file (@files){
    chomp $file;
    my $data = slurp $file;
    if($data =~ /<datasheet>/){
        print "$file\n";
    }
}

