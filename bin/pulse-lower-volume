#!/usr/bin/perl
use strict;
use warnings;

my $baseVolume = 65536;

my $hbin = `echo -n \$HOME/bin`;
my $vol = `$hbin/pulse-volume`;
chomp $vol;

if($vol > 100){
  $vol = 100;
}else{
  $vol -= 6;
  if($vol < 0){
    $vol = 0;
  }
}

my $pulseVol = int($baseVolume * ($vol / 100.0));
system "pacmd", "set-sink-volume", 0, $pulseVol;

