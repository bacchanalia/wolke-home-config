#!/usr/bin/perl
use strict;
use warnings;

my $attribute = '/apps/nautilus/preferences/preview_sound';
my $onVal = 'local_only';
my $offVal = 'never';
my $type = 'string';

my $arg = lc shift;

my $val;
if($arg eq 'on'){
  $val = $onVal;
}elsif($arg eq 'off'){
  $val = $offVal;
}elsif($arg eq 'toggle'){
  my $curVal = `gconftool-2 --get $attribute`;
  chomp $curVal;
  if($curVal eq $offVal){
    $val = $onVal;
  }else{
    $val = $offVal;
  }
}else{
  die "Usage: $0 on|off|toggle\n";
}

print `gconftool-2 --set $attribute --type $type "$val"`;

