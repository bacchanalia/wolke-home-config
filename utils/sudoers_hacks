#!/usr/bin/perl
use strict;
use warnings;

my @noPasswords = qw(
  /usr/bin/i7z
  /home/wolke/.dzen2/printers/i7z-cpu-freq
  /home/wolke/bin/led
  /home/wolke/bin/cpu-set
  /home/wolke/bin/sslvpn
  /home/wolke/bin/resolvchooser
  /home/wolke/bin/n900
);

for my $np(@noPasswords){
  my $line = "wolke\tALL=(ALL) NOPASSWD: $np";
  print "\n\nreally dangerous: dont say yes, do it yourself\n";
  print "the following line to /etc/sudoers:\n$line\n";

  print "overwrite /etc/sudoers, despite your better judgment? (y/N) ";
  if(lc <STDIN> eq "y\n"){
    system "sudo sh -c \"" .
      "chmod +w /etc/sudoers && " .
      "echo \\\"$line\\\" >> /etc/sudoers && " .
      "chmod -w /etc/sudoers" .
       "\"";
  }
}

