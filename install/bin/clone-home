#!/usr/bin/perl
use strict;
use warnings;
use ScriptScript;

sub main(@) {
    my $backupDir = shift || guessBackupDir;

    run "./install-git"

    run "rsync", "-avc", "$backupDir/.gitconfig", $ENV{HOME};
    run "rsync", "-avc", "$backupDir/.ssh"      , $ENV{HOME};

    cd $ENV{HOME};
    run "git", "clone", $git, "git-home";
    run qw(rsync -avc git-home/ .);
    run qw(rm -rf git-home);
}

main @_;

