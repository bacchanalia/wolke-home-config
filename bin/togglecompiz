#!/usr/bin/perl
use strict;
use warnings;

my $pid = `pidof compiz`;
$pid =~ s/[^0-9]//g;
my $state = ($pid ne '' && $pid > 0) ? 'ON':'OFF';
if($state eq 'OFF'){
  $pid = `pidof compiz.real`;
  $pid =~ s/[^0-9]//g;
  $state = ($pid ne '' && $pid > 0) ? 'ON':'OFF';
}
print "Compiz is $state\n";

if($state eq 'ON'){
  exec 'metacity --replace';
}else{
  exec 'compiz --replace';
}

