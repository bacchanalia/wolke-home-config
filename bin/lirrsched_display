#!/usr/bin/perl
use strict;
use warnings;

my $html;
while(<STDIN>){
  $html .= $_;
}

$html =~ s/<script[^>]*>.*?<\/script>//g;
$html =~ s/<\/*>//g;
$html =~ s/<table[^>]*>|<tr[^>]*>/\n/g;
$html =~ s/<th[^>]*>|<td[^>]*>/\t/g;
$html =~ s/<[^>]*>//g;
$html =~ s/&nbsp;//sg;

$html =~ s/^.*\n([ \t]*Depart[ \t]*Arrive[ \t]*Transfer[ \t]*Leaves[ \t]*Trip[ \t]*Duration[ \t]*\n)/$1/sg;
$html =~ s/MTA Home.*$//sg;

$html =~ s/^[ \t]+$//g;
$html =~ s/[\n\r]+/\n/g;

$html =~ s/[ \n\t]*Trains listed below will run on [0-9]+\/[0-9]+\/[0-9]+//;
print $html;

